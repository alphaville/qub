<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <!--
  Copyright 2019 Pantelis Sopasakis

  This work is licensed under the Attribution 4.0 International CC licence 
  (see https://creativecommons.org/licenses/by/4.0/)

  You are free to:
    Share — copy and redistribute the material in any medium or format
    Adapt — remix, transform, and build upon the material
    for any purpose, even commercially.

  The licensor cannot revoke these freedoms as long as you follow the license terms.

  Under the following terms:
    Attribution — You must give appropriate credit, provide a link to the license, 
    and indicate if changes were made. You may do so in any reasonable manner, but 
    not in any way that suggests the licensor endorses you or your use.

    No additional restrictions — You may not apply legal terms or technological measures
     that legally restrict others from doing anything the license permits.

  Notices:
    You do not have to comply with the license for elements of the material in the public 
    domain or where your use is permitted by an applicable exception or limitation.

    No warranties are given. The license may not give you all of the permissions necessary 
    for your intended use. For example, other rights such as publicity, privacy, or moral 
    rights may limit how you use the material.

  -->

  <title>PID and its Software Implementation</title>

  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="../lib/js/reveal/css/reveal.css">
  <link rel="stylesheet" href="../lib/js/reveal/lib/css/zenburn.css">
  <link rel="stylesheet" href="../lib/css/include_fonts.css">
  <link rel="stylesheet" href="../lib/css/presentation.css">
  <!-- Printing and PDF exports -->

  <!-- usage: add "?print-pdf" to URL, e.g. ".../index.html?print-pdf" -->
  <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? '../lib/js/reveal/css/print/pdf.css' : '../lib/js/reveal/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

</head>

<body>
  <div class="reveal">
    <div class="slides">

      <section>
        <div style="margin-top: 2em"> </div>
        <h1>The PID Controller</h1>
        <div style="margin-top: 1em;text-align:center; color:var(--my_blue)">
          and its Software Implementation
        </div>
        <div style="margin-top: 2em;text-align:center; color:var(--my_lightgray)">
          a gentle introduction
        </div>
        <div style="margin-top: 2em;text-align:center; font-size: 0.65em;">
          ELE2024, Lecturer: P. Sopasakis
        </div>
      </section>


      <!-- 
        
        Control in general 
        A few examples
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 10%; font-size:2.6em; text-align: center; color: white">
          What is control?
        </div>
        <div style="margin-top: 10%; font-size:1.5em; text-align: center; color: white">
          a few examples...
        </div>
      </section>

      <section>
        <h2>Taking a Shower</h2>
        <img src="../img/shower.jpg" />
      </section>

      <section data-background-image="../img/shower.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity_high)">
        <div style="margin-top: 10%; font-size:1.0em; text-align: left; color: black">
          Define (error) = (set point) - (measurement), that is
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          $$e(t) = y^{\mathrm{sp}}(t) - y(t)$$
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_green)">$e(t){}={}0$</span> (perfect!) $\Rightarrow$ enjoy!
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_blue)">$e(t){}>{}0$</span> (too cold!) $\Rightarrow$ warm up
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_red)">$e(t) {}&lt;{} 0$</span> (too hot!) $\Rightarrow$ cool down
        </div>
      </section>


      <section>
        <h2>Speed Control</h2>
        <img src="../img/car.jpg" />
      </section>

      <section data-background-image="../img/car.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity_high)">
        <div style="margin-top: 10%; font-size:1.0em; text-align: left; color: black">
          Define (error) = (set point) - (measurement), that is
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          $$e(t) = y^{\mathrm{sp}}(t) - y(t)$$
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_green)">$e(t){}={}0$</span> (perfect!) $\Rightarrow$ keep going!
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_blue)">$e(t){}>{}0$</span> (too slow!) $\Rightarrow$ speed up
        </div>
        <div style="margin-top: 1em; font-size:1.0em; text-align: left; color: black">
          If <span style="color:var(--my_red)">$e(t) {}&lt;{} 0$</span> (too fast!) $\Rightarrow$ slow down
        </div>
      </section>

      <section>
        <section>
          <h2>Lane Keeping</h2>
          <img src="../img/track.jpg" />
        </section>
        <section>
          <h2>Aircraft Roll Control</h2>
          <img src="../img/airplane.jpg" />
        </section>
        <section>
          <h2>Room temperature control</h2>
          <img src="../img/room.jpg" />
        </section>
      </section>

      <section data-background-image="../img/track.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity_high)">
        <h2>Lane Keeping Feedback Loop</h2>
        <div style="margin-top: 2em; font-size:1.0em; text-align: left; color: black">
          <ul>
            <li><span class="bold">System:</span> car</li>
            <li><span class="bold">Controlled variable (output):</span> distance from centre of lane, $y(t)$</li>
            <li><span class="bold">Sensor:</span> camera</li>
            <li><span class="bold">Set point</span>: center of lane, $y^{\mathrm{sp}} = 0$</li>
            <li><span class="bold">Error</span>: $e(t) = -y(t)$</li>
            <li><span class="bold">Control action</span>: steering angle, $u(t)$</li>
            <li><span class="bold">Disturbance</span>: alignment of wheels</li>
          </ul>

        </div>
      </section>

      <!-- 
        
        Lane Keeping Control
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 20%; font-size:2.6em; text-align: center; color: white">
          Lane Keeping Control
        </div>
      </section>

      <section data-background-image="../img/autdrive.gif">
      </section>

      <section data-background-image="../img/autdrive.gif" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 18%; font-size:1.5em; color:black">
          Autonomous Driving Technologies
        </div>
        <ul>
          <li>Control theory</li>
          <li>Image/video/signal processing</li>
          <li>Machine learning</li>
          <li>Optimisation</li>
          <li>Computer science</li>
          <li>Sensors</li>
        </ul>
      </section>

      <section data-background-image="../img/autdrive3.gif">
        <div style="margin-top: 2%; font-size:1.5em; color:red; text-align:left;">
          Autonomous Driving
        </div>
        <div style="color: yellow">
          Pros and Cons?
        </div>
      </section>

      <section data-background-image="../img/autdrive3.gif" data-background-opacity="var(--bck_opacity)">
        <h2>Challenges</h2>
        <div class="fragment replace" data-fragment-index="1">
          <div style="font-size: 0.7em;">
            <ul>
              <li><span class="bold">Safety:</span></li>
              <ul>
                <li>driving will be safer (hopefully)</li>
                <li>robots don't drink/get tired/get distracted</li>
              </ul>
              <li><span class="bold">Accountability and moral questions:</span></li>
              <ul>
                <li>whose fault is it when autonomous cars crash?</li>
                <li>insurance</li>
              </ul>
              <li><span class="bold">Socioeconomic:</span></li>
              <ul>
                <li>towards liberation from labour?</li>
                <li>loss or creation of jobs?</li>
              </ul>
              <li><span class="bold">Regulation:</span></li>
              <ul>
                <li>is there need for traffic lights?</li>
              </ul>
            </ul>
          </div>
        </div>
        <div class="fragment replace" data-fragment-index="1">
          <div style="font-size: 0.7em;">
            <ul>
              <li><span class="bold">Accessibility:</span></li>
              <ul>
                <li>accessible to disabled and elderly people</li>
              </ul>
              <li><span class="bold">Reduced traffic, higher speeds</span></li>
              <li><span class="bold">Environmental:</span></li>
              <ul>
                <li>lower energy consumption</li>
              </ul>
              <li><span class="bold">Security and Privacy:</span></li>
              <ul>
                <li>continuous surveillance?</li>
                <li>protection of personal data?</li>
                <li>hacking</li>
                <li>software reliability</li>
              </ul>
            </ul>
          </div>
        </div>
      </section>

      <!-- 
        
        P-Controller 
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 20%; font-size:2.6em; text-align: center; color: white">
          The P-Controller
        </div>
        <div style="margin-top: 1.05em; font-size:1.0em; text-align: center; color: white">
          Proportional Controller
        </div>
      </section>


      <section data-background-video="../mov/P/p-concept.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/P/p-concept.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">

        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Steering is <span style="color:var(--my_red)">proportional</span> to <span
            style="color:var(--my_red)">error</span>
        </div>

        <div style="margin-top: 5%; font-size:1.8em; color:black; text-align:center;">
          $$u(t) = K_p \cdot e(t)$$
        </div>

      </section>

      <section data-background-video="../mov/P/P_K0.01.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/P/P_K0.01.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Too <span style="color:var(--my_red)">slow</span>! Let's increase $K_p$.
        </div>
      </section>

      <section data-background-video="../mov/P/P_K0.06.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/P/P_K0.06.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Too <span style="color:var(--my_red)">oscillatory</span>!
        </div>
        <div style="margin-top: 1em; font-size:1em; color:black; text-align:center;">
          What if we increase $K_p$ even more?
        </div>
      </section>

      <section data-background-video="../mov/P/P_K0.2.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <!-- <section data-background-video="../mov/P/P_K0.2.mp4" data-background-video-loop="loop" data-background-size="contain"
        data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Unacceptable!
        </div>
      </section> -->

      <section data-background-image="../img/p_gains.jpg" data-background-size="contain">
      </section>

      <section data-background-image="../img/p_gains.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Increase $K_p$ for a <span style="color:var(--my_red)">faster</span> response, which may
          lead to <span style="color:var(--my_red)">oscillations</span>
        </div>
      </section>


      <!-- 
        
        PD-Controller 
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 20%; font-size:2.6em; text-align: center; color: white">
          The PD-Controller
        </div>
        <div style="margin-top: 1.05em; font-size:1.0em; text-align: center; color: white">
          Proportional-Derivative Controller
        </div>
      </section>

      <section data-background-video="../mov/PD/pd-concept.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PD/pd-concept.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          The control action is
        </div>
        <div style="margin-top: 1em; font-size:1.5em; color:black; text-align:center;">
          $u(t)$ ${}={}$ <span style="color:var(--my_lightblue)">$K_p e(t)$</span> ${}+{}$ <span
            style="color:var(--my_red)">$K_d
            \dot{e}(t)$</span>
        </div>
      </section>

      <section data-background-video="../mov/PD/PD_K0.2_Kd0.03.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PD/PD_K0.2_Kd0.03.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          That's better!
        </div>
        <div style="margin-top: 1em; font-size:1em; color:black; text-align:center;">
          Let's <span style="color:var(--my_red)">increase $K_d$</span> even more...
        </div>
      </section>


      <section data-background-video="../mov/PD/PD_K0.2_Kd0.06.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PD/PD_K0.2_Kd0.06.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          This is less oscillatory
        </div>
        <div style="margin-top: 1em; font-size:1em; color:black; text-align:center;">
          Let's <span style="color:var(--my_red)">eliminate</span> the oscillations!
        </div>
      </section>

      <section data-background-video="../mov/PD/PD_K0.2_Kd0.12.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PD/PD_K0.2_Kd0.12.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          By increasing $K_d$ we have <span style="color:var(--my_red)">eliminated</span> the oscillations!
        </div>
      </section>

      <section data-background-image="../img/pd_gains.jpg" data-background-size="contain">
      </section>

      <section data-background-image="../img/pd_gains.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Increase $K_d$ to suppress the <span style="color:var(--my_red)">oscillations</span>
        </div>
      </section>

      <section data-background-image="../img/pd_gains_sweet_spot.jpg" data-background-size="contain">
      </section>



      <section data-background-image="../img/pd_gains_Kp_effect.jpg" data-background-size="contain">
      </section>

      <section data-background-image="../img/pd_gains_Kp_effect.jpg" data-background-size="contain"
        data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          Increase $K_p$ for a <span style="color:var(--my_red)">faster</span> response, which may
          lead to <span style="color:var(--my_red)">oscillations</span>
        </div>
      </section>



      <!--

        PID-controller
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 20%; font-size:2.6em; text-align: center; color: white">
          The PID-Controller
        </div>
        <div style="margin-top: 1.05em; font-size:1.0em; text-align: center; color: white">
          Proportional-Integral-Derivative Controller
        </div>
      </section>

      <section data-background=var(--my_blue) data-background-video="../mov/wtf.mp4" data-background-video-loop="loop"
        data-background-size="cover" data-background-video-muted="true" data-background-opacity="0.75">
        <div style="margin-top: 10%; font-size:4.3em; text-align: center; color: rgb(255, 0, 55)">
          Warning!
        </div>
        <div style="margin-top: 1.2em; font-size:1.1em; text-align: center; color: yellow">
          All models are wrong*
        </div>
        <div style="margin-top: 5em; font-size:0.7em; text-align: center; color: yellowgreen">
          * George Box, 1976
        </div>
      </section>


      <section data-background-video="../mov/PID/PID_offset_noint.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PID/PID_offset_noint.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 10%; font-size:2em; color:black; text-align:center;">
          Offset = $ \lim_{t\to\infty} e(t)$
        </div>
        <div class="fragment" style="margin-top: 2em; font-size:1em; color:black; text-align:center;">
          We must eliminate the offset!
        </div>
        <div class="fragment" style="margin-top: 2em; font-size:1em; color:black; text-align:center;">
          Define <span style="color:var(--my_green)">$I(t) = \int_0^t e(\tau)\mathrm{d}\tau$</span>
        </div>
      </section>

      <section data-background-video="../mov/PID/PID_offset_int.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PID/PID_offset_int.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          The integral <span style="color:var(--my_red)">diverges</span>
        </div>
        <div style="margin-top: 1em; font-size:1em; color:black; text-align:center;">
          because $e(t)$ fails to converge to zero...
        </div>
      </section>

      <section data-background-video="../mov/PID/PID_offset_int.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 15%; font-size:1.5em; color:black; text-align:center;">
          Let's plug the <span style="color:var(--my_green)">integral</span> into the controller...
        </div>
        <div style="margin-top: 1.5em; font-size:1.5em; color:black; text-align:center;">
          $u(t)$ ${}={}$ <span style="color:var(--my_lightblue)">$K_p e(t)$</span> ${}+{}$ <span
            style="color:var(--my_red)">$K_d
            \dot{e}(t)$</span> ${}+{}$ <span style="color:var(--my_green)">$K_i I(t)$</span>
        </div>
      </section>

      <section data-background-video="../mov/PID/PID.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true">
      </section>

      <section data-background-video="../mov/PID/PID.mp4" data-background-video-loop="loop"
        data-background-size="contain" data-background-video-muted="true" data-background-opacity="var(--bck_opacity)">
        <div style="margin-top: 20%; font-size:2em; color:black; text-align:center;">
          No Offset!
        </div>
      </section>

      <section data-background-image="../img/Ki-effect.jpg" data-background-size="contain">
      </section>


      <!-- 
        
        Software implementation of PID
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 10%; font-size:2.6em; text-align: center; color: white">
          Software Implementation of PID
        </div>
      </section>

      <section>
        <h2>Digital Control Systems</h2>
        <img src="../img/discrete_concept.gif" />
      </section>

      <section>
        <h2>Digital Control Systems</h2>
        <div style="position: absolute; top: 4em">
          <img src="../img/discrete1.jpg" />
        </div>
      </section>

      <section>
        <h2>Digital Approximation of $\dot{e}(t)$</h2>
        <div style="position: absolute; top: 4em">
          <img src="../img/discrete2.jpg" />
        </div>
      </section>

      <section>
        <section>
          <h2>Digital Approximation of $I(t)$</h2>
          <div style="position: absolute; top: 4em">
            <img src="../img/discrete3.jpg" />
          </div>
        </section>
        <section>
          <h2>Trapezoidal rule</h2>
          <div style="position: absolute; top: 4em">
            <img src="../img/discrete3b.jpg" />
          </div>
        </section>
      </section>

      <section>
        <h2>Digital Approximation of $I(t)$</h2>
        <div style="position: absolute; top: 4em">
          <img src="../img/discrete4.jpg" />
        </div>
      </section>


      <section data-transition="none">
        <h2>Discrete-time PID</h2>
        <div style="margin-top: 10%; font-size:1.0em; text-align: left; color: black">
          Discrete-time PID controller
        </div>
        <div style="font-size:1.0em; text-align: left; color: black">
          $\begin{align}u(t_k) ={}& \underbrace{K_p e(t_k)}_{\text{Prop.}}
          +
          \underbrace{K_d \frac{e(t_k) - e(t_{k-1})}{T_s}}_{\text{Deriv. Approx.}}
          +
          \underbrace{
          K_i
          \sum_{i=1}^{k}
          T_s e(t_i)
          }_{\text{Integral Approx.}}
          \end{align}$
        </div>

      </section>

      <section data-transition="none">
        <h2>Discrete-time PID</h2>
        <div style="margin-top: 10%; font-size:1.0em; text-align: left; color: black">
          Discrete-time PID controller
        </div>
        <div style="font-size:1.0em; text-align: left; color: black">
          $\begin{align}u(t_k) ={}& K_p e(t_k) + K_d \frac{e(t_k) - e(t_{k-1})}{T_s} + K_i \sum_{i=1}^{k}
          T_s
          e(t_i)\\ ={}&
          K_p e(t_k) + {\color{blue}{K_{d, d}}} (e(t_k) - e(t_{k-1})) + {\color{red}{K_{i, d}}} \sum_{i=1}^{k}e(t_i)
          \end{align}$
        </div>
        <div style="margin-top: 0.5em; font-size:1.0em; text-align: left; color: black">
          where <span style="color:var(--my_blue)">$K_{d, d} = \frac{K_d}{T_s}$</span> and
          <span style="color:var(--my_red)">$K_{i, d} = K_i T_s$</span>.
        </div>
      </section>


      <section>
        <h2>PID implementation</h2>
        <div style="margin-top: 2.2em">
          <pre style="width:80%; padding: 15px; height: 100%; font-size:0.6em"><code data-trim data-noescape>
            <span class="code_comment">/* PID implementation (pseudocode) */</span>          
            previous_error = 0.0, sum_error = 0.0;
  
            <span class="code_comment">/* Initialise variables */</span>                    
            previous_error = setpoint - measured_value;
            
            <span class="code_comment">/* Call the following function at every sampling time */</span>
            <span class="keyword">function</span> compute_control_action(measured_value, setpoint) {
              ctrl_error = setpoint - measured_value;
              delta_error = ctrl_error - previous_error;
              control = <span class="code_static">P_GAIN_DISCRETE</span> * ctrl_error 
                      + <span class="code_static">I_GAIN_DISCRETE</span> * sum_error 
                      + <span class="code_static">D_GAIN_DISCRETE</span> * delta_error;
              sum_error += ctrl_error;
              previous_error = ctrl_error;
              <span class="keyword">return</span> control;
            }
              </code></pre>
        </div>
      </section>



      <section>
        <h2>Let's recap</h2>
        <div class="fragment replace" data-fragment-index="1">
          <table style="margin-top: 2.0em; " width="1050px">
            <tr>
              <td style="vertical-align: middle;" width="700px">
                <div><img src="../img/track.jpg" width="600px" /></div>
              </td>
              <td width="350px">
                <div style="font-size: 0.7em">
                  <span class="bold">Control loop - new terms:</span>
                  <ul>
                    <li>system</li>
                    <li>controlled variable</li>
                    <li>sensor</li>
                    <li>measurement</li>
                    <li>set-point</li>
                    <li>error, $e(t) = y^{\mathrm{sp}}(t) - y(t)$</li>
                    <li>control action</li>
                    <li>controller</li>
                    <li>disturbance</li>
                  </ul>

                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="fragment replace" data-fragment-index="1">
          <table style="margin-top: 2.0em; " width="1050px">
            <tr>
              <td style="vertical-align: middle;" width="700px">
                <div>
                  <video id="mpc-video" data-autoplay width="650px" autoplay loop>
                    <source src="../mov/PID/PID.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
              </td>
              <td width="350px">
                <div style="font-size: 0.7em">
                  <span class="bold">PID controller:</span>
                  <ul>
                    <li>P: proportional control action</li>
                    <li>D: suppresses oscillations</li>
                    <li>I: eliminates offset</li>
                  </ul>
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div class="fragment replace" data-fragment-index="2">
          <table style="margin-top: 2.0em; " width="1050px">
            <tr>
              <td style="vertical-align: middle;" width="700px">
                <div><img src="../img/discrete_concept.gif" width="700px" /></div>
              </td>
              <td width="350px">
                <div style="font-size: 0.7em">
                  <span class="bold">Digital PID controller:</span>
                  <ul>
                    <li>D: successive differences</li>
                    <li>I: sum of errors</li>
                  </ul>
                </div>
              </td>
            </tr>
          </table>
        </div>
      </section>



      <!-- 
        
        Control in general 
        A few examples
      -->
      <section data-background=var(--my_blue) data-state="plain-slide">
        <div style="margin-top: 10%; font-size:2.6em; text-align: center; color: white">
          Today's Lab
        </div>
        <div style="margin-top: 5%; font-size:1.0em; text-align: center;">
          PID controller design for lane keeping
        </div>
      </section>


      <section>
        <h2>Objective</h2>
        <table style="margin-top: 2.0em; " width="1050px">
          <tr>
            <td style="vertical-align: middle;" width="600px">
              <div><img src="../img/autdrive2.gif" width="500px" /></div>
            </td>
            <td width="450px">
              <p style="line-height: 1.35;">
                We will design and test a discrete-time <span class="bold">PID controller</span>
                in <span class="bold">Python</span>.
              </p>
            </td>
          </tr>
        </table>
      </section>

      <section>
        <h2>Python Programming</h2>
        <table style="margin-top: 2.0em; " width="1050px">
          <tr>
            <td style="vertical-align: middle;" width="600px">
              <div><img src="../img/developer.gif" width="500px" /></div>
            </td>
            <td width="450px">
              <div style="font-size: 0.9em">
                <span class="bold">Why Python?</span>
                <ul>
                  <li>free</li>
                  <li>open source</li>
                  <li>easy</li>
                  <li>strong community</li>
                  <li>highly sought skill</li>
                </ul>
              </div>
            </td>
          </tr>
        </table>
      </section>


      <section data-background-image="../img/developer.gif" data-background-opacity="0.3">
        <h2>Python in Engineering</h2>
        <ul>
          <li>Controller design</li>
          <li>Simlations of dynamical systems</li>
          <li>Optimisation</li>
          <li>Image/video/signal processing</li>
          <li>Machine learning</li>
          <li>Parallel computing</li>
        </ul>
      </section>

      <section data-background-image="../img/study.gif" data-background-opacity="0.3">
        <h2>Grading Criteria</h2>
        <div style="font-size: 0.8em;">
          <ul>
            <li>Technical correctness (45%)</li>
            <li>Discussion of the results (15%)</li>
            <li><span class="fragment replace" data-fragment-index="1">Quality of presentation (25%)</span>
              <span class="fragment replace" data-fragment-index="1">
                <span class="bold">Quality of presentation</span> (25%):
                <span style="color: gray">(i) clarity, (ii) graphics, (iii) typesetting</span>
              </span>
            </li>
            <li>Quality of code (15%)<span class="fragment" data-fragment-index="2">:
                <span style="color: gray">(i) correctness, (ii) style, (iii) docs/comments</span>
              </span>
            </li>
            <li>Bonus marks (+10%)</li>
          </ul>
          <div style="margin-top: 1.5em;"></div>
          <span class="fragment" data-fragment-index="3">
            <span class="bold">Deadline:</span> Seven (calendar) days from now.
          </span>
          <div style="margin-top: 1.5em;"></div>
          <span class="fragment" data-fragment-index="4">
            For best results: use the Overleaf template provided
          </span>
        </div>
      </section>


      <section data-background-image="../img/scientist.gif" data-background-opacity="0.3">
        <h2>Let's get started!</h2>
        <div style="margin-top: 1em;"></div>
        <ul>
          <li>Start PyCharm</li>
          <li>Create a new project (Python3.6 with virtualenv)</li>
          <li>Go to File &gt; Settings &gt; Python Interpreter &gt; Add:</li>
          <ul>
            <li><code>numpy</code>, v1.19</li>
            <li><code>scipy</code>, v1.5.0</li>
            <li><code>matplotlib</code>, v3.2.2</li>
          </ul>
        </ul>
      </section>



      <!-- ****************************** -->

      <!-- Reveal.js and Template Specific Options -->
      <script src="../lib/js/reveal/lib/js/head.min.js"></script>
      <script src="../lib/js/reveal/js/reveal.js"></script>
      <script>
        Reveal.initialize({
          history: true,
          transition: 'none', // none/fade/slide/convex/concave/zoom
          transitionSpeed: 'fast', // default/fast/slow
          //backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
          controls: true,
          center: false,
          touch: true,
          slideNumber: false,
          maxScale: 10.0,

          math: {
            mathjax: '../lib/js/mathjax/MathJax.js',
            config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
          },

          dependencies: [
            { src: '../lib/js/reveal/lib/js/classList.js' },
            { src: '../lib/js/reveal/plugin/math/math.js', async: true },
            // { src: 'plugin/math-katex/math-katex.js', async: true },
            { src: '../lib/js/reveal/plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
            { src: '../lib/js/reveal/plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
            { src: '../lib/js/reveal/plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
          ]
        });
      </script>
    </div>
  </div>
</body>

</html>
